{"version":3,"sources":["../../src/pages/tab-profile/tab-profile.module.ts","../../src/pages/tab-profile/tab-profile.ts"],"names":[],"mappings":"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","file":"6.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { TabProfilePage } from './tab-profile';\n\n@NgModule({\n  declarations: [\n    TabProfilePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(TabProfilePage),\n  ],\n})\nexport class TabProfilePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tab-profile/tab-profile.module.ts","import { Component, NgZone } from '@angular/core';\nimport { IonicPage, NavController, Events, LoadingController } from 'ionic-angular';\n\nimport { MessageimagehandlerProvider } from '../../providers/messageimagehandler/messageimagehandler';\nimport { AuthenticationProvider } from '../../providers/authentication/authentication';\nimport { LocalstorageProvider } from '../../providers/localstorage/localstorage';\nimport { LoghandlingProvider } from '../../providers/loghandling/loghandling';\nimport { AlerthandlingProvider } from '../../providers/alerthandling/alerthandling';\n\n/**\n * Generated class for the TabProfilePage page.\n *\n * Update profile details.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-tab-profile',\n  templateUrl: 'tab-profile.html',\n})\nexport class TabProfilePage {\n\n  private avatar: string;\n  private displayName: string = \"Add nick name\";\n  private TAG: string = \"TabProfilePage\";\n\n  /**\n   * Default constructor.\n   * @param navController navigation controller.\n   * @param authenticationProvider authentication provider. \n   * @param ngZone ngzone.\n   * @param alertController alert controller. \n   * @param messageimagehandlerProvider image handler provider.\n   * @param localstorageProvider local storage provider.\n   * @param events Events\n   */\n  constructor(\n    private navController: NavController, \n    private authenticationProvider: AuthenticationProvider, \n    private ngZone: NgZone, \n    private messageimagehandlerProvider: MessageimagehandlerProvider,\n    private localstorageProvider: LocalstorageProvider,\n    private events: Events,\n    private loadingController: LoadingController,\n    private alerthandlingProvider: AlerthandlingProvider,\n    private loghandlingProvider: LoghandlingProvider) {\n  }\n\n  /**\n   * Before view load get user details.\n   */\n  ionViewWillEnter() {\n    this.loaduserdetails();\n  }\n \n  /**\n   * Execute get user details method of authentication provider. \n   */\n  loaduserdetails() {\n    this.authenticationProvider.getuserdetails().then((res: any) => {\n      if(res.displayName)\n        this.displayName = res.displayName;\n      this.ngZone.run(() => {\n        this.avatar = res.photoURL;\n      })\n    })\n  }\n\n  /**\n   * Edit display name.\n   */\n  editname() {\n    this.alerthandlingProvider.editAlert('Edit Nickname', 'nickname', 'Nickname').then((data: any) => {\n      if (data.nickname) {\n        this.authenticationProvider.updatedisplayname(data.nickname).then((res: any) => {\n          if (res.success) {\n\n            this.localstorageProvider.setUsername(data.nickname);\n            this.events.publish('user:displayName updated', data.nickname);\n            this.alerthandlingProvider.presentAlert(\"Updated\",\"Your nickname has been changed successfully!!\");\n            this.ngZone.run(() => {\n              this.displayName = data.nickname;\n            })\n          }\n          else {\n            this.alerthandlingProvider.presentAlert(\"Failed\",\"Your nickname was not changed.\");\n          }              \n        })\n      }\n    }, err => {\n      this.loghandlingProvider.showLog(this.TAG, \"user cancelled.\");\n    });\n  }\n\n  /**\n   * Edit profile picture.\n   */\n  editimage() {\n    let loading: any;\n    loading = this.loadingController.create({\n      content: 'Updating profile picture...'\n    });\n    loading.present();\n    this.messageimagehandlerProvider.uploadimage().then((url: any) => {\n      this.authenticationProvider.updateimage(url).then((res: any) => {\n        loading.present();\n        if (res.success) {\n          this.alerthandlingProvider.presentAlert(\"Updated\",\"Your profile pic has been changed successfully!!\");\n          this.ngZone.run(() => {\n          this.avatar = url;\n        })  \n        }  \n      }).catch((err) => {\n        loading.present();\n        this.alerthandlingProvider.presentAlert(\"Failed\",\"Your profile pic was not changed.\");\n      })\n    })\n  }\n \n  /**\n   * User sign out.\n   */\n  logout() {\n    this.authenticationProvider.signOut()\n      .then(() => this.navController.setRoot('LoginPage'));\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tab-profile/tab-profile.ts"],"sourceRoot":""}