{"version":3,"sources":["../../src/pages/tab-profile/tab-profile.module.ts","../../src/pages/tab-profile/tab-profile.ts"],"names":[],"mappings":"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","file":"6.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { TabProfilePage } from './tab-profile';\n\n@NgModule({\n  declarations: [\n    TabProfilePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(TabProfilePage),\n  ],\n})\nexport class TabProfilePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tab-profile/tab-profile.module.ts","import { Component, NgZone } from '@angular/core';\nimport { IonicPage, NavController, AlertController, Events } from 'ionic-angular';\nimport { MessageimagehandlerProvider } from '../../providers/messageimagehandler/messageimagehandler';\nimport { AuthenticationProvider } from '../../providers/authentication/authentication';\nimport { LocalstorageProvider } from '../../providers/localstorage/localstorage';\n\n/**\n * Generated class for the TabProfilePage page.\n *\n * Update profile details.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-tab-profile',\n  templateUrl: 'tab-profile.html',\n})\nexport class TabProfilePage {\n\n  avatar: string;\n  displayName: string = \"Add nick name\";\n\n  /**\n   * Default constructor.\n   * @param navController navigation controller.\n   * @param authenticationProvider authentication provider. \n   * @param ngZone ngzone.\n   * @param alertController alert controller. \n   * @param messageimagehandlerProvider image handler provider.\n   * @param localstorageProvider local storage provider.\n   * @param events Events\n   */\n  constructor(\n    private navController: NavController, \n    private authenticationProvider: AuthenticationProvider, \n    private ngZone: NgZone, \n    private alertController: AlertController,\n    private messageimagehandlerProvider: MessageimagehandlerProvider,\n    private localstorageProvider: LocalstorageProvider,\n    private events: Events) {\n  }\n\n  /**\n   * Before view load get user details.\n   */\n  ionViewWillEnter() {\n    this.loaduserdetails();\n  }\n \n  /**\n   * Execute get user details method of authentication provider. \n   */\n  loaduserdetails() {\n    this.authenticationProvider.getuserdetails().then((res: any) => {\n      if(res.displayName)\n        this.displayName = res.displayName;\n      this.ngZone.run(() => {\n        this.avatar = res.photoURL;\n      })\n    })\n  }\n\n  /**\n   * Edit display name.\n   */\n  editname() {\n    let statusalert = this.alertController.create({\n      buttons: ['okay']\n    });\n    let alert = this.alertController.create({\n      title: 'Edit Nickname',\n      inputs: [{\n        name: 'nickname',\n        placeholder: 'Nickname'\n      }],\n      buttons: [{\n        text: 'Cancel',\n        role: 'cancel',\n        handler: data => {\n \n        }\n      },\n      {\n        text: 'Edit',\n        handler: data => {\n          if (data.nickname) {\n            this.authenticationProvider.updatedisplayname(data.nickname).then((res: any) => {\n              if (res.success) {\n                statusalert.setTitle('Updated');\n                statusalert.setSubTitle('Your nickname has been changed successfully!!');\n\n                this.localstorageProvider.setUsername(data.nickname);\n\n                this.events.publish('user:displayName updated', data.nickname);\n\n                statusalert.present();\n                this.ngZone.run(() => {\n                  this.displayName = data.nickname;\n                })\n              }\n              else {\n                statusalert.setTitle('Failed');\n                statusalert.setSubTitle('Your nickname was not changed');\n                statusalert.present();\n              }              \n            })\n          }\n        }\n      }]\n    });\n    alert.present();\n  }\n\n  /**\n   * Edit profile picture.\n   */\n  editimage() {\n    let statusalert = this.alertController.create({\n      buttons: ['okay']\n    });\n    this.messageimagehandlerProvider.uploadimage().then((url: any) => {\n      this.authenticationProvider.updateimage(url).then((res: any) => {\n        if (res.success) {\n          statusalert.setTitle('Updated');\n          statusalert.setSubTitle('Your profile pic has been changed successfully!!');\n          statusalert.present();\n          this.ngZone.run(() => {\n          this.avatar = url;\n        })  \n        }  \n      }).catch((err) => {\n          statusalert.setTitle('Failed');\n          statusalert.setSubTitle('Your profile pic was not changed');\n          statusalert.present();\n      })\n      })\n  }\n \n  /**\n   * User sign out.\n   */\n  logout() {\n    this.authenticationProvider.signOut()\n      .then(() => this.navController.setRoot('LoginPage'));\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tab-profile/tab-profile.ts"],"sourceRoot":""}