{"version":3,"sources":["../../src/pages/tab-chats/tab-chats.module.ts","../../src/pages/tab-chats/tab-chats.ts","../../src/components/preload-image/preload-image.module.ts","../../src/components/preload-image/preload-image.ts"],"names":[],"mappings":"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","file":"0.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { TabChatsPage } from './tab-chats';\nimport { PreloadImageComponentModule } from '../../components/preload-image/preload-image.module';\n\n@NgModule({\n  declarations: [\n    TabChatsPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(TabChatsPage),\n    PreloadImageComponentModule\n  ],\n})\nexport class TabChatsPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tab-chats/tab-chats.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, App, ToastController, MenuController } from 'ionic-angular';\n\nimport { AuthenticationProvider, UserModel } from '../../providers/authentication/authentication';\nimport { ChathandlingProvider, MessageModel } from '../../providers/chathandling/chathandling';\nimport { LoghandlingProvider } from '../../providers/loghandling/loghandling';\n\n/**\n * Generated class for the TabChatsPage page.\n *\n * Initial chat page.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-tab-chats',\n  templateUrl: 'tab-chats.html',\n})\nexport class TabChatsPage {\n  messages: Array<MessageModel>;\n  user: UserModel;\n  private TAG: string = \"TabChatsPage\";\n\n  constructor(private app: App, private toastController: ToastController, private authenticationProvider: AuthenticationProvider,\n    private chathandlingProvider: ChathandlingProvider, private loghandlingProvider: LoghandlingProvider,\n    private menuController: MenuController) {\n      this.menuController.enable(true, 'navigation_menu');\n    }\n  \n  /**\n   * Called after view load.\n   */\n  ionViewDidLoad() {\n    this.loghandlingProvider.showLog(this.TAG,'ionViewDidLoad');\n    this.authenticationProvider.getFullProfile()\n      .subscribe((user: any) => this.user = user);\n    \n    this.chathandlingProvider.getLastMessages()\n      .subscribe((messages) => this.messages = messages);\n  }\n\n  /**\n   * join default chat chanel\n   */\n  joinDefaultChannel(channel: string | any = 'general') {\n    this.app.getRootNav().push('ChatMessagePage', {user: this.user});\n  }\n\n  /**\n   * join personal chat chanel\n   */\n  joinPerosnalChannel(channel: string | any = 'general') {\n    this.app.getRootNav().push('ParsonalchatPage', {user: this.user});\n  }\n\n  /**\n   * Currently stop direct chat.\n   */\n  joinDirectChat() {\n    this.toastController.create({\n      duration: 1500,\n      position: 'top',\n      message: 'Sorry, not allowed to chat directly.'\n    }).present();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tab-chats/tab-chats.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { PreloadImageComponent } from './preload-image';\n\n@NgModule({\n  declarations: [\n    PreloadImageComponent,\n  ],\n  imports: [\n    IonicPageModule.forChild(PreloadImageComponent),\n  ],\n  exports: [\n    PreloadImageComponent\n  ]\n})\nexport class PreloadImageComponentModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/preload-image/preload-image.module.ts","import { Component, Input, ElementRef, Renderer, OnChanges, SimpleChange } from '@angular/core';\n\nimport { isPresent } from 'ionic-angular/util/util';\n\n@Component({\n\t\tselector: 'preload-image',\n\t\ttemplateUrl: 'preload-image.html'\n})\nexport class PreloadImageComponent implements OnChanges {\n\t\t_src: string = '';\n\t\t_ratio: { w: number, h: number };\n\t\t_img: any;\n\n\t\tconstructor(public _elementRef: ElementRef, public _renderer: Renderer) {\n\t\t\t\tthis._img = new Image();\n\t\t}\n\n\t\t@Input() alt: string;\n\n\t\t@Input() title: string;\n\n\t\t@Input() set src(val: string) {\n\t\t\t\tthis._src = isPresent(val) ? val : '';\n\t\t}\n\n\t\t@Input() set ratio(ratio: { w: number, h: number }){\n\t\t\t\tthis._ratio = ratio || null;\n\t\t}\n\n\t\tngOnChanges(changes: { [propName: string]: SimpleChange }) {\n\t\t\t\tlet ratio_height = (this._ratio.h / this._ratio.w * 100)+\"%\";\n\t\t\t\tthis._renderer.setElementStyle(this._elementRef.nativeElement, 'padding-bottom', ratio_height);\n\n\t\t\t\tthis._update();\n\t\t}\n\n\t\t_update() {\n\t\t\t\tif (isPresent(this.alt)) {\n\t\t\t\t\t\tthis._img.alt = this.alt;\n\t\t\t\t}\n\t\t\t\tif (isPresent(this.title)) {\n\t\t\t\t\t\tthis._img.title = this.title;\n\t\t\t\t}\n\n\t\t\t\tthis._img.addEventListener('load', () => {\n\t\t\t\t\t\tthis._elementRef.nativeElement.appendChild(this._img);\n\t\t\t\t\t\tthis._loaded(true);\n\t\t\t\t});\n\n\t\t\t\tthis._img.src = this._src;\n\n\t\t\t\tthis._loaded(false);\n\t\t}\n\n\t\t_loaded(isLoaded: boolean) {\n\t\t\t\tthis._elementRef.nativeElement.classList[isLoaded ? 'add' : 'remove']('img-loaded');\n\t\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/preload-image/preload-image.ts"],"sourceRoot":""}